<paper-header-panel mode="standard" class="sv-parameters">
  
  <paper-toolbar class="medium-tall main">
    <paper-icon-button icon="menu" class="paper-header" 
      ng-click="main.menu.open()">
    </paper-icon-button>
    <div class="title">
      {{main.state.current.name || "New request"}}
    </div>
    <!-- Actions -->
    <div class="middle">
      
      <paper-button ng-click="main.new()">
        <iron-icon icon="note-add"></iron-icon> New
      </paper-button>
      
      <paper-button ng-click="main.save()">
        <iron-icon icon="save"></iron-icon> Save...
      </paper-button>
      <paper-button ng-click="main.generate()">
        <iron-icon icon="code"></iron-icon>  Generate
      </paper-button>
    </div>
    
  </paper-toolbar>
  
  <div class="content layout vertical justified">
    <!-- Request porperties sections-->
    <div class="configuration">
      <!--Request location section -->
      <div class="section">
        <h4>Location</h4>
        <div class="form">
          <paper-input-container no-label-float="true" class="flex small">
            <input is="iron-input" 
              map-autocomplete="main.addressSelected(address)">
            </input>
          </paper-input-container>
          <map-preview class="map-preview flex" panorama="main.panorama">
          </map-preview >
        </div>
      </div>
      
      <!-- Request parameters section -->
      <div class="section">
        <h4>Request Parameters</h4>
        <div class="form">
          <!-- Size -->
          <div class="layout horizontal">
            <!-- Width -->
            <paper-input-container always-float-label="true" class="small">
              <label>width:</label>
              <input is="iron-input" type="number" 
                ng-model="main.state.current.size.width">
               <div suffix>px</div>
            </paper-input-container>
            <!-- Height -->
            <paper-input-container always-float-label="true" class="small">
              <label>height:</label>
              <input is="iron-input" type="number" 
                ng-model="main.state.current.size.height">
               <div suffix>px</div>
            </paper-input-container>
          </div>
          <!--Location-->
          <div class="layout horizontal">
            <!--Latitude-->
            <paper-input-container always-float-label="true" class="small">
              <label>latitude:</label>
              <input is="iron-input" type="number" step="0.01" disabled="true" 
                ng-model="main.state.current.location.lat">
            </paper-input-container>
            <!--Longitude-->
            <paper-input-container always-float-label="true"class="small">
              <label>longitude:</label>
              <input is="iron-input" type="number" step="0.01" disabled="true" 
                ng-model="main.state.current.location.lng">
            </paper-input-container>
          </div>
          <!--Heading -->
          <div class="layout horizontal">
            <paper-input-container always-float-label="true" class="small">
              <label>heading:</label>
              <input is="iron-input" type="number" min="0" max="360"
                step="0.5" ng-model="main.state.current.heading">
            </paper-input-container>
          </div>
          <!--Pitch-->
          <div class="layout horizontal">
            <paper-input-container always-float-label="true" class="small">
              <label>pitch:</label>
              <input is="iron-input" type="number" min="-90" max="90"
                step="0.5" ng-model="main.state.current.pitch">
            </paper-input-container>
          </div>
          <!--Fov-->
          <div class="layout horizontal">
            <paper-input-container always-float-label="true" class="small">
              <label>fov:</label>
              <input is="iron-input" type="number" max="120" min="5.6"
                step="0.5" ng-model="main.state.current.fov">
            </paper-input-container>
          </div>
        </div>
      </div>
      <!--Authentication section-->
      <div class="section">
        <h4>Authentication</h4>
          <div class="form ">
            <paper-radio-group ng-model="main.state.current.authenticationMode"
              ng-change="main.onRequestChange()"
              class="layout vertical">
              <paper-radio-button name="{{main.AuthenticationMode.NONE}}">
                None
              </paper-radio-button>
              <paper-radio-button name="{{main.AuthenticationMode.API_KEY}}">
                API key
              </paper-radio-button>
              <paper-radio-button 
                name="{{main.AuthenticationMode.CLIENT_AND_CRYPTO}}">
                Client ID + Crypto key
              </paper-radio-button>
            </paper-radio-group>
          </div>
      </div>
    </div>
    <!--End of form-->
  </div>
</paper-header-panel>
 
<div class="sv-preview-container layout horizontal vertical center 
center-justified">
 <sv-preview style="width:100%;height:100%" class="sv-preview-panorama"
  panorama="main.panorama"
  location="main.state.current.location"
  fov="main.state.current.fov"
  heading="main.state.current.heading"
  pitch="main.state.current.pitch"
  ratio="main.getRatio()"/>
</div>
  
